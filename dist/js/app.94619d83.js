(function(e){function t(t){for(var n,a,l=t[0],i=t[1],u=t[2],s=0,p=[];s<l.length;s++)a=l[s],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&p.push(c[a][0]),c[a]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);d&&d(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,l=1;l<r.length;l++){var i=r[l];0!==c[i]&&(n=!1)}n&&(o.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},c={app:0},o=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=i;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0fc6":function(e,t,r){"use strict";r("a33a")},2144:function(e,t,r){},"2d9c":function(e,t,r){},"4a8c":function(e,t,r){"use strict";r("2d9c")},"4f18":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),c=r("6c42"),o=(r("da96"),Object(n["withScopeId"])("data-v-514dfdf4"));Object(n["pushScopeId"])("data-v-514dfdf4");var a={class:"container"},l={class:"nonprintable"},i=Object(n["createVNode"])("h2",null,"rpg-cards-to-book-view",-1),u=Object(n["createVNode"])("br",null,null,-1),d=Object(n["createVNode"])("div",{class:"p-3 mb-2 bg-info text-dark"},[Object(n["createTextVNode"])(" Load any number of .json files with arrays of "),Object(n["createVNode"])("a",{target:"_blank",href:"https://crobi.github.io/rpg-cards/"},"rpg cards"),Object(n["createTextVNode"])(" and press Print. "),Object(n["createVNode"])("br"),Object(n["createTextVNode"])(" You can reorder cards anyway you want by dragging them. "),Object(n["createVNode"])("br"),Object(n["createTextVNode"])(" Tested only in "),Object(n["createVNode"])("a",{target:"_blank",href:"https://www.google.com/chrome/"},"Google Chrome"),Object(n["createTextVNode"])(". Probably will work in any "),Object(n["createVNode"])("strong",null,"modern"),Object(n["createTextVNode"])(" browser. ")],-1),s=Object(n["createTextVNode"])(" Loaded cards: "),p={id:"span-count"},b=Object(n["createVNode"])("label",null,"Sorting",-1),m={class:"d-flex d-flex-row"},O={class:"p-2"},f={class:"p-2"},j={class:"p-2"},v={class:"p-2"},h={class:"p-2"},V={class:"form-check"},g=Object(n["createVNode"])("label",{class:"form-check-label",for:"cb-useSimplifiedView"}," Use simplified view ",-1),y=Object(n["createVNode"])("hr",null,null,-1);Object(n["popScopeId"])();var N=o((function(e,t,r,c,N,T){var S=Object(n["resolveComponent"])("card-sorter"),E=Object(n["resolveComponent"])("rpg-cards-loader"),k=Object(n["resolveComponent"])("card-simplified"),w=Object(n["resolveComponent"])("draggable"),B=Object(n["resolveComponent"])("card");return Object(n["openBlock"])(),Object(n["createBlock"])("div",a,[Object(n["createVNode"])("section",l,[i,u,d,Object(n["createVNode"])("p",null,[s,Object(n["createVNode"])("span",p,Object(n["toDisplayString"])(N.cards.length),1)]),b,Object(n["createVNode"])(S,{onSortChanged:T.sort},null,8,["onSortChanged"]),Object(n["createVNode"])("div",m,[Object(n["createVNode"])("div",O,[Object(n["createVNode"])(E,{onLoaded:T.load,onOnError:T.onError},null,8,["onLoaded","onOnError"])]),Object(n["createVNode"])("div",f,[Object(n["createVNode"])("button",{class:"btn btn-primary",type:"button",onClick:t[1]||(t[1]=function(){return e.download&&e.download.apply(e,arguments)})}," Save to file ")]),Object(n["createVNode"])("div",j,[Object(n["createVNode"])("button",{class:"btn btn-danger",type:"button",onClick:t[2]||(t[2]=function(){return T.clear&&T.clear.apply(T,arguments)})}," Clear cards ")]),Object(n["createVNode"])("div",v,[Object(n["createVNode"])("button",{class:"btn btn-success",type:"button",onClick:t[3]||(t[3]=function(){return T.print&&T.print.apply(T,arguments)})}," Print ")]),Object(n["createVNode"])("div",h,[Object(n["createVNode"])("div",V,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{class:"form-check-input",type:"checkbox",id:"cb-useSimplifiedView","onUpdate:modelValue":t[4]||(t[4]=function(e){return N.useSimplifiedView=e})},null,512),[[n["vModelCheckbox"],N.useSimplifiedView]]),g])])]),y]),Object(n["createVNode"])("section",null,[N.useSimplifiedView?(Object(n["openBlock"])(),Object(n["createBlock"])(w,{key:0,modelValue:N.cards,"onUpdate:modelValue":t[5]||(t[5]=function(e){return N.cards=e}),"item-key":"title",onChange:T.store,"drag-class":"rpg-card-drag"},{item:o((function(e){var t=e.element;return[Object(n["createVNode"])(k,{modelValue:t},null,8,["modelValue"])]})),_:1},8,["modelValue","onChange"])):(Object(n["openBlock"])(),Object(n["createBlock"])(w,{key:1,modelValue:N.cards,"onUpdate:modelValue":t[6]||(t[6]=function(e){return N.cards=e}),"item-key":"title",onChange:T.store,"drag-class":"rpg-card-drag"},{item:o((function(e){var t=e.element;return[Object(n["createVNode"])(B,{modelValue:t},null,8,["modelValue"])]})),_:1},8,["modelValue","onChange"]))])])})),T=(r("4de4"),r("d81d"),Object(n["withScopeId"])("data-v-9488eee2"));Object(n["pushScopeId"])("data-v-9488eee2");var S={class:"title"};Object(n["popScopeId"])();var E=T((function(e,t,r,c,o,a){var l=Object(n["resolveComponent"])("bullet"),i=Object(n["resolveComponent"])("description"),u=Object(n["resolveComponent"])("dndstats"),d=Object(n["resolveComponent"])("picture-el"),s=Object(n["resolveComponent"])("property"),p=Object(n["resolveComponent"])("section-el"),b=Object(n["resolveComponent"])("subtitle"),m=Object(n["resolveComponent"])("text-el");return Object(n["openBlock"])(),Object(n["createBlock"])("article",null,[Object(n["createVNode"])("div",S,[Object(n["createVNode"])("strong",null,Object(n["toDisplayString"])(r.modelValue.title),1)]),(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(r.modelValue.elements,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[e.type===o.types.BULLET?(Object(n["openBlock"])(),Object(n["createBlock"])(l,{key:t,modelValue:e},null,8,["modelValue"])):Object(n["createCommentVNode"])("",!0),e.type===o.types.DESCRIPTION?(Object(n["openBlock"])(),Object(n["createBlock"])(i,{key:t,modelValue:e},null,8,["modelValue"])):Object(n["createCommentVNode"])("",!0),e.type===o.types.DNDSTATS?(Object(n["openBlock"])(),Object(n["createBlock"])(u,{key:t,modelValue:e},null,8,["modelValue"])):Object(n["createCommentVNode"])("",!0),e.type===o.types.PICTURE?(Object(n["openBlock"])(),Object(n["createBlock"])(d,{key:t,modelValue:e},null,8,["modelValue"])):Object(n["createCommentVNode"])("",!0),e.type===o.types.PROPERTY?(Object(n["openBlock"])(),Object(n["createBlock"])(s,{key:t,modelValue:e},null,8,["modelValue"])):Object(n["createCommentVNode"])("",!0),e.type===o.types.SECTION?(Object(n["openBlock"])(),Object(n["createBlock"])(p,{key:t,modelValue:e},null,8,["modelValue"])):Object(n["createCommentVNode"])("",!0),e.type===o.types.SUBTITLE?(Object(n["openBlock"])(),Object(n["createBlock"])(b,{key:t,modelValue:e},null,8,["modelValue"])):Object(n["createCommentVNode"])("",!0),e.type===o.types.TEXT?(Object(n["openBlock"])(),Object(n["createBlock"])(m,{key:t,modelValue:e},null,8,["modelValue"])):Object(n["createCommentVNode"])("",!0)],64)})),256))])}));r("b0c0");function k(e,t,r,c,o,a){return Object(n["openBlock"])(),Object(n["createBlock"])("ul",null,[Object(n["createVNode"])("li",{innerHTML:r.modelValue.name},null,8,["innerHTML"])])}var w=r("d4ec"),B=r("262e"),I=r("2caf"),C={SUBTITLE:"subtitle",PROPERTY:"property",DESCRIPTION:"description",BULLET:"bullet",PICTURE:"picture",TEXT:"text",SECTION:"section",DNDSTATS:"dndstats",UNKNOWN:"unknown"},L=function e(t){if(Object(w["a"])(this,e),!t)throw new Error("Argumet 'type' should have value");this.type=t},P=L,x=function(e){Object(B["a"])(r,e);var t=Object(I["a"])(r);function r(e){var n;if(Object(w["a"])(this,r),!e)throw new Error("Argumet 'name' should have value");return n=t.call(this,C.BULLET),n.name=e,n}return r}(P),D=x,M={name:"Bullet",props:{modelValue:D}};M.render=k;var R=M,U=Object(n["createTextVNode"])(": ");function _(e,t,r,c,o,a){return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])("strong",{innerHTML:r.modelValue.name},null,8,["innerHTML"]),U,Object(n["createVNode"])("span",{innerHTML:r.modelValue.value},null,8,["innerHTML"])])}var A=function(e){Object(B["a"])(r,e);var t=Object(I["a"])(r);function r(e,n){var c;if(Object(w["a"])(this,r),!e)throw new Error("Argumet 'name' should have value");return c=t.call(this,C.DESCRIPTION),c.name=e,c.value=n,c}return r}(P),H=A,J={name:"Description",props:{modelValue:H}};J.render=_;var Y=J,F=Object(n["withScopeId"])("data-v-fd62a7ce");Object(n["pushScopeId"])("data-v-fd62a7ce");var z=Object(n["createVNode"])("tr",null,[Object(n["createVNode"])("th",null,"STR"),Object(n["createVNode"])("th",null,"DEX"),Object(n["createVNode"])("th",null,"CON"),Object(n["createVNode"])("th",null,"INT"),Object(n["createVNode"])("th",null,"WIS"),Object(n["createVNode"])("th",null,"CHA")],-1);Object(n["popScopeId"])();var X=F((function(e,t,r,c,o,a){return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])("table",null,[Object(n["createVNode"])("tbody",null,[z,Object(n["createVNode"])("tr",null,[Object(n["createVNode"])("td",null,Object(n["toDisplayString"])(r.modelValue.str)+" ("+Object(n["toDisplayString"])(r.modelValue.strMod)+")",1),Object(n["createVNode"])("td",null,Object(n["toDisplayString"])(r.modelValue.dex)+" ("+Object(n["toDisplayString"])(r.modelValue.dexMod)+")",1),Object(n["createVNode"])("td",null,Object(n["toDisplayString"])(r.modelValue.con)+" ("+Object(n["toDisplayString"])(r.modelValue.conMod)+")",1),Object(n["createVNode"])("td",null,Object(n["toDisplayString"])(r.modelValue.int)+" ("+Object(n["toDisplayString"])(r.modelValue.intMod)+")",1),Object(n["createVNode"])("td",null,Object(n["toDisplayString"])(r.modelValue.wis)+" ("+Object(n["toDisplayString"])(r.modelValue.wisMod)+")",1),Object(n["createVNode"])("td",null,Object(n["toDisplayString"])(r.modelValue.cha)+" ("+Object(n["toDisplayString"])(r.modelValue.chaMod)+")",1)])])])])})),W=function(e){Object(B["a"])(r,e);var t=Object(I["a"])(r);function r(e,n,c,o,a,l){var i;Object(w["a"])(this,r),i=t.call(this,C.DNDSTATS);for(var u=[10,10,10,10,10,10],d=[0,0,0,0,0,0],s=[e,n,c,o,a,l],p=0;p<6;++p){u[p]=s[p]||0;var b=Math.floor((u[p]-10)/2);b=b>=0?"+"+b:""+b,d[p]=b}return i.str=u[0],i.dex=u[1],i.con=u[2],i.int=u[3],i.wis=u[4],i.cha=u[5],i.strMod=d[0],i.dexMod=d[1],i.conMod=d[2],i.intMod=d[3],i.wisMod=d[4],i.chaMod=d[5],i}return r}(P),G=W,$={name:"DndStats",props:{modelValue:G}};r("5abf");$.render=X,$.__scopeId="data-v-fd62a7ce";var K=$,q=Object(n["withScopeId"])("data-v-53a3fc5b"),Q=q((function(e,t,r,c,o,a){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{style:{backgroundImage:"url("+r.modelValue.url+")",height:r.modelValue.height+"px"}},null,4)})),Z=function(e){Object(B["a"])(r,e);var t=Object(I["a"])(r);function r(e,n){var c;return Object(w["a"])(this,r),c=t.call(this,C.PICTURE),c.url=e,c.height=n,c}return r}(P),ee=Z,te={name:"Picture",props:{modelValue:ee}};r("5aa0");te.render=Q,te.__scopeId="data-v-53a3fc5b";var re=te,ne=Object(n["createTextVNode"])(": ");function ce(e,t,r,c,o,a){return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])("strong",{innerHTML:r.modelValue.name},null,8,["innerHTML"]),ne,Object(n["createVNode"])("span",{innerHTML:r.modelValue.value},null,8,["innerHTML"])])}var oe=function(e){Object(B["a"])(r,e);var t=Object(I["a"])(r);function r(e,n){var c;if(Object(w["a"])(this,r),!e)throw new Error("Argumet 'name' should have value");return c=t.call(this,C.PROPERTY),c.name=e,c.value=n,c}return r}(P),ae=oe,le={name:"Property",props:{modelValue:ae}};le.render=ce;var ie=le,ue=Object(n["withScopeId"])("data-v-5b6c406c");Object(n["pushScopeId"])("data-v-5b6c406c");var de=Object(n["createTextVNode"])(": ");Object(n["popScopeId"])();var se=ue((function(e,t,r,c,o,a){return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])("strong",null,[Object(n["createVNode"])("u",{innerHTML:r.modelValue.name},null,8,["innerHTML"])]),de,Object(n["createVNode"])("span",{innerHTML:r.modelValue.value},null,8,["innerHTML"])])})),pe=function(e){Object(B["a"])(r,e);var t=Object(I["a"])(r);function r(e,n){var c;if(Object(w["a"])(this,r),!e)throw new Error("Argumet 'name' should have value");return c=t.call(this,C.SECTION),c.name=e,c.value=n,c}return r}(P),be=pe,me={name:"Section",props:{modelValue:be}};r("4a8c");me.render=se,me.__scopeId="data-v-5b6c406c";var Oe=me,fe=Object(n["withScopeId"])("data-v-5267e49c"),je=fe((function(e,t,r,c,o,a){return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])("em",{innerHTML:r.modelValue.name},null,8,["innerHTML"])])})),ve=function(e){Object(B["a"])(r,e);var t=Object(I["a"])(r);function r(e){var n;if(Object(w["a"])(this,r),!e)throw new Error("Argumet 'name' should have value");return n=t.call(this,C.SUBTITLE),n.name=e,n}return r}(P),he=ve,Ve={name:"Subtitle",props:{modelValue:he}};r("a811");Ve.render=je,Ve.__scopeId="data-v-5267e49c";var ge=Ve;function ye(e,t,r,c,o,a){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{innerHTML:r.modelValue.text},null,8,["innerHTML"])}var Ne=function(e){Object(B["a"])(r,e);var t=Object(I["a"])(r);function r(e){var n;return Object(w["a"])(this,r),n=t.call(this,C.TEXT),n.text=e,n}return r}(P),Te=Ne,Se={name:"Text",props:{modelValue:Te}};Se.render=ye;var Ee=Se,ke=function e(t,r,n,c,o,a,l,i){if(Object(w["a"])(this,e),!t)throw new Error("Argumet 'title' should have value");this.title=t,this.elements=a||[],this.tags=l||[],this.count=i||1,this.icon=r,this.color=n,this.iconBack=c,this.backgroundImage=o},we=ke,Be={name:"Card",props:{modelValue:we},data:function(){return{types:C}},components:{bullet:R,description:Y,dndstats:K,"picture-el":re,property:ie,"section-el":Oe,subtitle:ge,"text-el":Ee}};r("d44d");Be.render=E,Be.__scopeId="data-v-9488eee2";var Ie=Be,Ce=Object(n["withScopeId"])("data-v-22ca4907");Object(n["pushScopeId"])("data-v-22ca4907");var Le={class:"title"};Object(n["popScopeId"])();var Pe=Ce((function(e,t,r,c,o,a){return Object(n["openBlock"])(),Object(n["createBlock"])("article",null,[Object(n["createVNode"])("div",Le,[Object(n["createVNode"])("strong",null,Object(n["toDisplayString"])(r.modelValue.title),1)])])})),xe={name:"CardSimplified",props:{modelValue:we}};r("0fc6");xe.render=Pe,xe.__scopeId="data-v-22ca4907";var De=xe,Me={class:"d-flex d-flex-row"},Re={class:"p-2"},Ue={key:1,class:"p-2"},_e={class:"p-2"},Ae={class:"form-check"},He=Object(n["createVNode"])("label",{class:"form-check-label",for:"cb-sortDesc"}," Descending ",-1),Je={class:"p-2"};function Ye(e,t,r,c,o,a){return Object(n["openBlock"])(),Object(n["createBlock"])("section",null,[Object(n["createVNode"])("div",Me,[Object(n["createVNode"])("div",Re,[Object(n["withDirectives"])(Object(n["createVNode"])("select",{class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.by=e}),onChange:t[2]||(t[2]=function(e){return r.byElement=o.cardElementSort.SUBTITLE})},[Object(n["createVNode"])("option",{value:o.cardSort.TITLE},"Title",8,["value"]),Object(n["createVNode"])("option",{value:o.cardSort.SPELLEVEL}," Spell level (experimental) ",8,["value"]),Object(n["createVNode"])("option",{value:o.cardSort.ELEMENT},"Element",8,["value"]),Object(n["createVNode"])("option",{value:o.cardSort.FIRSTTAG},"First tag name",8,["value"])],544),[[n["vModelSelect"],r.by]])]),r.by===o.cardSort.ELEMENT?(Object(n["openBlock"])(),Object(n["createBlock"])("div",{key:0,class:"p-2",onChange:t[4]||(t[4]=function(e){return r.propertyName=""})},[Object(n["withDirectives"])(Object(n["createVNode"])("select",{class:"form-control","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.byElement=e})},[Object(n["createVNode"])("option",{value:o.cardElementSort.SUBTITLE},"Subtitle",8,["value"]),Object(n["createVNode"])("option",{value:o.cardElementSort.PROPERTY}," First property with name ",8,["value"])],512),[[n["vModelSelect"],r.byElement]])],32)):Object(n["createCommentVNode"])("",!0),r.byElement===o.cardElementSort.PROPERTY?(Object(n["openBlock"])(),Object(n["createBlock"])("div",Ue,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{class:"form-control",type:"text","onUpdate:modelValue":t[5]||(t[5]=function(e){return r.propertyName=e}),placeholder:"Enter property name"},null,512),[[n["vModelText"],r.propertyName]])])):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])("div",_e,[Object(n["createVNode"])("div",Ae,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"cb-sortDesc","onUpdate:modelValue":t[6]||(t[6]=function(e){return r.desc=e})},null,512),[[n["vModelCheckbox"],r.desc]]),He])]),Object(n["createVNode"])("div",Je,[Object(n["createVNode"])("button",{class:"btn btn-primary",type:"button",onClick:t[7]||(t[7]=function(){return a.sort&&a.sort.apply(a,arguments)})}," Sort ")])])])}r("c975");var Fe={TITLE:"title",SPELLEVEL:"spelllLevel",ELEMENT:"element",FIRSTTAG:"firstTag"},ze={SUBTITLE:"subtitle",PROPERTY:"property"},Xe={name:"CardSorter",emits:["sortChanged"],props:{by:{type:String,default:function(){return Fe.TITLE}},byElement:{type:String,default:function(){return ze.SUBTITLE}},propertyName:String,desc:Boolean},data:function(){return{cardSort:Fe,cardElementSort:ze}},methods:{sort:function(e){var t=this,r=null;this.by===Fe.SPELLEVEL?r=function(e){return e.elements.filter((function(e){return e.type===C.SUBTITLE})).map((function(e){return!e.name||-1===e.name.indexOf("Cantrip")&&-1===e.name.indexOf("cantrip")?parseInt(e.name,10)||(t.desc?-1:999):0}))[0]}:this.by===Fe.ELEMENT?r=this.byElement===ze.SUBTITLE?function(e){return e.elements.filter((function(e){return e.type===C.SUBTITLE})).map((function(e){return e.name}))[0]}:function(e){return e.elements.filter((function(e){return e.type===C.PROPERTY&&e.name===t.propertyName})).map((function(e){return e.name}))[0]}:"firstTag"===this.by&&(r=function(e){return e.tags[0]}),this.$emit("sortChanged",{elementSelector:r,desc:this.desc}),e.target.blur()}}};Xe.render=Ye;var We=Xe,Ge={style:{display:"none"}};function $e(e,t,r,c,o,a){return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])("button",{class:"btn btn-primary",type:"button",onClick:t[1]||(t[1]=function(){return a.openDialog&&a.openDialog.apply(a,arguments)})}," Load from json files "),Object(n["createVNode"])("form",Ge,[Object(n["createVNode"])("input",{type:"file",id:"file-load",name:"files[]",multiple:"",accept:"application/JSON",onChange:t[2]||(t[2]=function(){return a.load&&a.load.apply(a,arguments)})},null,32)])])}r("99af");var Ke=function e(t,r){Object(w["a"])(this,e),this.message=t,this.error=r},qe=Ke,Qe={name:"RpgCardsLoader",emits:["loaded","onError"],methods:{openDialog:function(e){document.getElementById("file-load").click(),e.target.blur()},load:function(e){for(var t,r=this,n=e.target.files,c=n.length,o=function(){r.$emit("loaded",{rpgCards:a})},a=[],l=function(e,t){var n=new FileReader;n.onload=function(){try{var e=JSON.parse(n.result);a=a.concat(e)}catch(t){r.$emit("onError",{exception:new qe("File is not in correct format.",t)})}--c||o()},n.readAsText(t)},i=0;t=n[i];i++)l(i,t);e.srcElement.form.reset()}}};Qe.render=$e;var Ze=Qe,et=r("b76a"),tt=r.n(et),rt=function(e){Object(B["a"])(r,e);var t=Object(I["a"])(r);function r(e,n){var c;return Object(w["a"])(this,r),c=t.call(this,C.UNKNOWN),c.name=e,c.params=n,c}return r}(P),nt=rt,ct="rpg-cards-v3";function ot(e){switch(e.type){case C.BULLET:return new D(e.name);case C.DESCRIPTION:return new H(e.name,e.value);case C.PICTURE:return new ee(e.url,e.height);case C.PROPERTY:return new ae(e.name,e.value);case C.SECTION:return new be(e.name,e.value);case C.SUBTITLE:return new he(e.name);case C.TEXT:return new Te(e.text);case C.DNDSTATS:return new G(e.str,e.dex,e.con,e.int,e.wis,e.cha);case C.UNKNOWN:return new nt(e.name,e.params);default:throw new Error("Unknown element from storage "+JSON.stringify(e))}}function at(e){if(!e)throw new Error("Argumet 'card' should have value");var t=e.elements.map((function(e){return ot(e)}));return new we(e.title,e.icon,e.color,e.iconBack,e.backgroundImage,t,e.tags,e.count)}function lt(){var e=localStorage.getItem(ct);if(e){var t=JSON.parse(e),r=t.map((function(e){return at(e)}));return r}}function it(e){localStorage.setItem(ct,e?JSON.stringify(e):void 0)}function ut(){return localStorage.removeItem(ct)}var dt={get:lt,set:it,clear:ut},st=(r("a15b"),r("a434"),r("ac1f"),r("1276"),r("498a"),r("4478")),pt=r("2909"),bt=(r("4d63"),r("25f0"),r("c0c4")),mt=r.n(bt);function Ot(e){return mt.a.sanitize(e,{ALLOWED_TAGS:["b"]})}function ft(e){var t=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!t.test(e)}function jt(e){return ft(e)?e:void 0}var vt={purify:Ot,purifyUrl:jt},ht=" | ";function Vt(e,t){switch(e){case C.BULLET:return new D(vt.purify(t[0]));case C.DESCRIPTION:return new H(vt.purify(t[0]),vt.purify(t[1]));case C.PICTURE:return new ee(vt.purifyUrl(t[0]),parseInt(t[1],10));case C.PROPERTY:return new ae(vt.purify(t[0]),vt.purify(t[1]));case C.SECTION:return new be(vt.purify(t[0]),vt.purify(t[1]));case C.SUBTITLE:return new he(vt.purify(t[0]));case C.TEXT:return new Te(vt.purify(t[0]));case C.DNDSTATS:return Object(st["a"])(G,Object(pt["a"])(t.map((function(e){return parseInt(e,10)}))));default:return new nt(e,t)}}function gt(e){switch(e.type){case C.BULLET:return[e.type,e.name].join(ht);case C.DESCRIPTION:return[e.type,e.name,e.value].join(ht);case C.PICTURE:return[e.type,e.url,e.height].join(ht);case C.PROPERTY:return[e.type,e.name,e.value].join(ht);case C.SECTION:return[e.type,e.name,e.value].join(ht);case C.SUBTITLE:return[e.type,e.name].join(ht);case C.TEXT:return[e.type,e.name].join(ht);case C.DNDSTATS:return[e.type,e.str,e.dex,e.con,e.int,e.wis,e.cha].join(ht);default:return[e.name].concat(Object(pt["a"])(e.params)).join(ht)}}function yt(e){if(!e)throw new Error("Argumet 'rpgCardJson' should have value");var t=(e.contents||[]).map((function(e){return e.split(ht).map((function(e){return e.trim()}))})),r=t.map((function(e){return Vt(e[0],e.splice(1))})),n=(e.tags||[]).map((function(e){return e.trim().toLowerCase()}));return new we(e.title,e.icon,e.color,e.icon_back,e.background_image,r,n,e.count)}function Nt(e){if(!e)throw new Error("Argumet 'card' should have value");var t=e.elements.map((function(e){return gt(e)})).join("\r\n");return{title:e.title,count:e.count,icon:e.icon,color:e.color,icon_back:e.iconBack,background_image:e.backgroundImage,contents:t,tags:e.tags}}var Tt={fromRpgCardJson:yt,toRpgCardJson:Nt};function St(e,t,r){return e.sort((function(e,n){if(t){var c=t(e),o=t(n);if(r){if(c>o)return-1;if(c<o)return 1}else{if(c<o)return-1;if(c>o)return 1}}if(r){if(e.title>n.title)return-1;if(e.title<n.title)return 1}else{if(e.title<n.title)return-1;if(e.title>n.title)return 1}return 0}))}var Et,kt=St,wt=Object(c["b"])();function Bt(e){console.error(e.message,e),wt.error(e.message+"\nSee console output for details.")}try{Et=dt.get()}catch(Pt){Bt(new qe("Error during loading cards from storage.",Pt))}var It={name:"App",data:function(){return{cards:Et||[],useSimplifiedView:!1}},methods:{store:function(){dt.set(this.cards)},sort:function(e){this.cards=kt(this.cards,e.elementSelector,e.desc),this.store()},load:function(e){var t=e.rpgCards.map((function(e){try{var t=Tt.fromRpgCardJson(e);return t}catch(Pt){return void Bt(new qe("Error during parsing file.",Pt))}})).filter((function(e){return e}));this.cards=t},clear:function(e){dt.clear(),this.cards=[],e.target.blur()},print:function(e){window.print(),e.target.blur()},onError:function(e){Bt(e.exception)}},components:{card:Ie,"card-simplified":De,draggable:tt.a,"card-sorter":We,"rpg-cards-loader":Ze}};r("fdd2");It.render=N,It.__scopeId="data-v-514dfdf4";var Ct=It,Lt=Object(n["createApp"])(Ct);Lt.use(c["a"],{position:"bottom-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!0,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),Lt.mount("#app")},"5aa0":function(e,t,r){"use strict";r("f87e")},"5abf":function(e,t,r){"use strict";r("ca5d")},a33a:function(e,t,r){},a811:function(e,t,r){"use strict";r("db32")},ca5d:function(e,t,r){},d44d:function(e,t,r){"use strict";r("2144")},db32:function(e,t,r){},f87e:function(e,t,r){},fdd2:function(e,t,r){"use strict";r("4f18")}});
//# sourceMappingURL=app.94619d83.js.map