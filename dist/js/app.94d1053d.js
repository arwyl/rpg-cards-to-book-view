(function(e){function t(t){for(var n,c,l=t[0],i=t[1],u=t[2],d=0,p=[];d<l.length;d++)c=l[d],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&p.push(o[c][0]),o[c]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);s&&s(t);while(p.length)p.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,l=1;l<r.length;l++){var i=r[l];0!==o[i]&&(n=!1)}n&&(a.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},o={app:0},a=[];function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var s=i;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},4947:function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),o=r("6c42"),a=(r("da96"),Object(n["withScopeId"])("data-v-9c752e6c"));Object(n["pushScopeId"])("data-v-9c752e6c");var c={class:"container"},l={class:"d-print-none"},i=Object(n["createVNode"])("section",null,[Object(n["createVNode"])("h2",null,"rpg-cards-to-book-view")],-1),u=Object(n["createVNode"])("section",{class:"mt-4 p-3 bg-info text-dark"},[Object(n["createTextVNode"])(" Load any number of .json files with arrays of "),Object(n["createVNode"])("a",{target:"_blank",href:"https://crobi.github.io/rpg-cards/"},"rpg cards"),Object(n["createTextVNode"])(" and press Print. "),Object(n["createVNode"])("br"),Object(n["createTextVNode"])(" You can reorder cards anyway you want by dragging their title. "),Object(n["createVNode"])("br"),Object(n["createTextVNode"])(" Tested only in "),Object(n["createVNode"])("a",{target:"_blank",href:"https://www.google.com/chrome/"},"Google Chrome"),Object(n["createTextVNode"])(". Probably will work in any "),Object(n["createVNode"])("strong",null,"modern"),Object(n["createTextVNode"])(" browser. ")],-1),s={class:"mt-3"},d=Object(n["createVNode"])("h6",null,"Sorting",-1),p={class:"row g-2 mt-2 align-items-center"},b={class:"col-md-auto"},m={class:"col-md-auto"},f={class:"col-md-auto"},h={class:"col-md-auto"},O={class:"col-md-auto"},g={class:"col-md-auto"},j={class:"form-check"},v=Object(n["createVNode"])("label",{class:"form-check-label",for:"cb-useSimplifiedView"}," Use simplified view ",-1),y={class:"mt-3"},V=Object(n["createTextVNode"])(" Loaded cards: "),T={id:"span-count"},S=Object(n["createVNode"])("hr",null,null,-1);Object(n["popScopeId"])();var N=a((function(e,t,r,o,N,w){var k=Object(n["resolveComponent"])("card-sorter"),E=Object(n["resolveComponent"])("rpg-cards-loader"),L=Object(n["resolveComponent"])("card-simplified"),C=Object(n["resolveComponent"])("draggable"),I=Object(n["resolveComponent"])("card");return Object(n["openBlock"])(),Object(n["createBlock"])("section",c,[Object(n["createVNode"])("section",l,[i,u,Object(n["createVNode"])("section",s,[d,Object(n["createVNode"])(k,{onSortChanged:w.sort},null,8,["onSortChanged"])]),Object(n["createVNode"])("section",p,[Object(n["createVNode"])("div",b,[Object(n["createVNode"])(E,{onLoaded:w.load,onOnError:w.onError},null,8,["onLoaded","onOnError"])]),Object(n["createVNode"])("div",m,[Object(n["createVNode"])("button",{class:"btn btn-primary",type:"button",onClick:t[1]||(t[1]=function(){return w.loadExample&&w.loadExample.apply(w,arguments)})}," Load example ")]),Object(n["createVNode"])("div",f,[Object(n["createVNode"])("button",{class:"btn btn-primary",type:"button",onClick:t[2]||(t[2]=function(){return w.download&&w.download.apply(w,arguments)})}," Save to file ")]),Object(n["createVNode"])("div",h,[Object(n["createVNode"])("button",{class:"btn btn-danger",type:"button",onClick:t[3]||(t[3]=function(){return w.clear&&w.clear.apply(w,arguments)})}," Clear cards ")]),Object(n["createVNode"])("div",O,[Object(n["createVNode"])("button",{class:"btn btn-success",type:"button",onClick:t[4]||(t[4]=function(){return w.print&&w.print.apply(w,arguments)})}," Print ")]),Object(n["createVNode"])("div",g,[Object(n["createVNode"])("div",j,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{class:"form-check-input",type:"checkbox",id:"cb-useSimplifiedView","onUpdate:modelValue":t[5]||(t[5]=function(e){return N.useSimplifiedView=e})},null,512),[[n["vModelCheckbox"],N.useSimplifiedView]]),v])])]),Object(n["createVNode"])("section",y,[Object(n["createVNode"])("p",null,[V,Object(n["createVNode"])("span",T,Object(n["toDisplayString"])(N.cards.length),1)])]),S]),N.useSimplifiedView?(Object(n["openBlock"])(),Object(n["createBlock"])(C,{key:0,modelValue:N.cards,"onUpdate:modelValue":t[6]||(t[6]=function(e){return N.cards=e}),"item-key":"title",onChange:w.store,"drag-class":"rpg-card-drag",tag:"section"},{item:a((function(e){var t=e.element;return[Object(n["createVNode"])(L,{modelValue:t},null,8,["modelValue"])]})),_:1},8,["modelValue","onChange"])):(Object(n["openBlock"])(),Object(n["createBlock"])(C,{key:1,modelValue:N.cards,"onUpdate:modelValue":t[7]||(t[7]=function(e){return N.cards=e}),"item-key":"title",onChange:w.store,"drag-class":"rpg-card-drag",handle:".title",tag:"section"},{item:a((function(e){var t=e.element;return[Object(n["createVNode"])(I,{modelValue:t},null,8,["modelValue"])]})),_:1},8,["modelValue","onChange"]))])})),w=(r("4de4"),r("d81d"),Object(n["withScopeId"])("data-v-3148c86d"));Object(n["pushScopeId"])("data-v-3148c86d");var k={class:"pb-3"};Object(n["popScopeId"])();var E=w((function(e,t,r,o,a,c){var l=Object(n["resolveComponent"])("title-el"),i=Object(n["resolveComponent"])("dynamic-element");return Object(n["openBlock"])(),Object(n["createBlock"])("article",k,[Object(n["createVNode"])(l,{modelValue:r.modelValue.title},null,8,["modelValue"]),(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(c.knownElements,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])(i,{modelValue:e,key:t},null,8,["modelValue"])})),128))])}));function L(e,t,r,o,a,c){return Object(n["openBlock"])(),Object(n["createBlock"])(Object(n["resolveDynamicComponent"])(c.elementComponent),{modelValue:a.model},null,8,["modelValue"])}r("b0c0");function C(e,t,r,o,a,c){return Object(n["openBlock"])(),Object(n["createBlock"])("ul",null,[Object(n["createVNode"])("li",{innerHTML:r.modelValue.name},null,8,["innerHTML"])])}var I=r("d4ec"),B=r("262e"),x=r("2caf"),D={SUBTITLE:"subtitle",PROPERTY:"property",DESCRIPTION:"description",BULLET:"bullet",PICTURE:"picture",TEXT:"text",SECTION:"section",DNDSTATS:"dndstats",UNKNOWN:"unknown"},P=function e(t){if(Object(I["a"])(this,e),!t)throw new Error("Argumet 'type' should have value");this.type=t},M=P,U=function(e){Object(B["a"])(r,e);var t=Object(x["a"])(r);function r(e){var n;if(Object(I["a"])(this,r),!e)throw new Error("Argumet 'name' should have value");return n=t.call(this,D.BULLET),n.name=e,n}return r}(M),R=U,A={name:"Bullet",props:{modelValue:R}};A.render=C;var _=A,H=Object(n["createTextVNode"])(": ");function Y(e,t,r,o,a,c){return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])("strong",{innerHTML:r.modelValue.name},null,8,["innerHTML"]),H,Object(n["createVNode"])("span",{innerHTML:r.modelValue.value},null,8,["innerHTML"])])}var F=function(e){Object(B["a"])(r,e);var t=Object(x["a"])(r);function r(e,n){var o;if(Object(I["a"])(this,r),!e)throw new Error("Argumet 'name' should have value");return o=t.call(this,D.DESCRIPTION),o.name=e,o.value=n,o}return r}(M),W=F,J={name:"Description",props:{modelValue:W}};J.render=Y;var z=J,X={class:"p-2"},G=Object(n["createVNode"])("tr",null,[Object(n["createVNode"])("th",null,"STR"),Object(n["createVNode"])("th",null,"DEX"),Object(n["createVNode"])("th",null,"CON"),Object(n["createVNode"])("th",null,"INT"),Object(n["createVNode"])("th",null,"WIS"),Object(n["createVNode"])("th",null,"CHA")],-1);function K(e,t,r,o,a,c){return Object(n["openBlock"])(),Object(n["createBlock"])("div",X,[Object(n["createVNode"])("table",null,[Object(n["createVNode"])("tbody",null,[G,Object(n["createVNode"])("tr",null,[Object(n["createVNode"])("td",null,Object(n["toDisplayString"])(r.modelValue.str)+" ("+Object(n["toDisplayString"])(r.modelValue.strMod)+")",1),Object(n["createVNode"])("td",null,Object(n["toDisplayString"])(r.modelValue.dex)+" ("+Object(n["toDisplayString"])(r.modelValue.dexMod)+")",1),Object(n["createVNode"])("td",null,Object(n["toDisplayString"])(r.modelValue.con)+" ("+Object(n["toDisplayString"])(r.modelValue.conMod)+")",1),Object(n["createVNode"])("td",null,Object(n["toDisplayString"])(r.modelValue.int)+" ("+Object(n["toDisplayString"])(r.modelValue.intMod)+")",1),Object(n["createVNode"])("td",null,Object(n["toDisplayString"])(r.modelValue.wis)+" ("+Object(n["toDisplayString"])(r.modelValue.wisMod)+")",1),Object(n["createVNode"])("td",null,Object(n["toDisplayString"])(r.modelValue.cha)+" ("+Object(n["toDisplayString"])(r.modelValue.chaMod)+")",1)])])])])}var $=function(e){Object(B["a"])(r,e);var t=Object(x["a"])(r);function r(e,n,o,a,c,l){var i;Object(I["a"])(this,r),i=t.call(this,D.DNDSTATS);for(var u=[10,10,10,10,10,10],s=[0,0,0,0,0,0],d=[e,n,o,a,c,l],p=0;p<6;++p){u[p]=d[p]||0;var b=Math.floor((u[p]-10)/2);b=b>=0?"+"+b:""+b,s[p]=b}return i.str=u[0],i.dex=u[1],i.con=u[2],i.int=u[3],i.wis=u[4],i.cha=u[5],i.strMod=s[0],i.dexMod=s[1],i.conMod=s[2],i.intMod=s[3],i.wisMod=s[4],i.chaMod=s[5],i}return r}(M),q=$,Q={name:"DndStats",props:{modelValue:q}};Q.render=K;var Z=Q,ee=Object(n["withScopeId"])("data-v-53a3fc5b"),te=ee((function(e,t,r,o,a,c){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{style:{backgroundImage:"url("+r.modelValue.url+")",height:r.modelValue.height+"px"}},null,4)})),re=function(e){Object(B["a"])(r,e);var t=Object(x["a"])(r);function r(e,n){var o;return Object(I["a"])(this,r),o=t.call(this,D.PICTURE),o.url=e,o.height=n,o}return r}(M),ne=re,oe={name:"Picture",props:{modelValue:ne}};r("5aa0");oe.render=te,oe.__scopeId="data-v-53a3fc5b";var ae=oe,ce=Object(n["createTextVNode"])(": ");function le(e,t,r,o,a,c){return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])("strong",{innerHTML:r.modelValue.name},null,8,["innerHTML"]),ce,Object(n["createVNode"])("span",{innerHTML:r.modelValue.value},null,8,["innerHTML"])])}var ie=function(e){Object(B["a"])(r,e);var t=Object(x["a"])(r);function r(e,n){var o;if(Object(I["a"])(this,r),!e)throw new Error("Argumet 'name' should have value");return o=t.call(this,D.PROPERTY),o.name=e,o.value=n,o}return r}(M),ue=ie,se={name:"Property",props:{modelValue:ue}};se.render=le;var de=se,pe={class:"pt-2"},be=Object(n["createTextVNode"])(": ");function me(e,t,r,o,a,c){return Object(n["openBlock"])(),Object(n["createBlock"])("div",pe,[Object(n["createVNode"])("strong",null,[Object(n["createVNode"])("u",{innerHTML:r.modelValue.name},null,8,["innerHTML"])]),be,Object(n["createVNode"])("span",{innerHTML:r.modelValue.value},null,8,["innerHTML"])])}var fe=function(e){Object(B["a"])(r,e);var t=Object(x["a"])(r);function r(e,n){var o;if(Object(I["a"])(this,r),!e)throw new Error("Argumet 'name' should have value");return o=t.call(this,D.SECTION),o.name=e,o.value=n,o}return r}(M),he=fe,Oe={name:"Section",props:{modelValue:he}};Oe.render=me;var ge=Oe,je=Object(n["withScopeId"])("data-v-5267e49c"),ve=je((function(e,t,r,o,a,c){return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])("em",{innerHTML:r.modelValue.name},null,8,["innerHTML"])])})),ye=function(e){Object(B["a"])(r,e);var t=Object(x["a"])(r);function r(e){var n;if(Object(I["a"])(this,r),!e)throw new Error("Argumet 'name' should have value");return n=t.call(this,D.SUBTITLE),n.name=e,n}return r}(M),Ve=ye,Te={name:"Subtitle",props:{modelValue:Ve}};r("a811");Te.render=ve,Te.__scopeId="data-v-5267e49c";var Se=Te;function Ne(e,t,r,o,a,c){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{innerHTML:r.modelValue.text},null,8,["innerHTML"])}var we=function(e){Object(B["a"])(r,e);var t=Object(x["a"])(r);function r(e){var n;return Object(I["a"])(this,r),n=t.call(this,D.TEXT),n.text=e,n}return r}(M),ke=we,Ee={name:"Text",props:{modelValue:ke}};Ee.render=Ne;var Le=Ee,Ce={};Ce[D.BULLET]="bullet",Ce[D.DESCRIPTION]="description",Ce[D.DNDSTATS]="dndstats",Ce[D.PROPERTY]="property",Ce[D.SECTION]="section-el",Ce[D.SUBTITLE]="subtitle",Ce[D.TEXT]="text-el",Ce[D.PICTURE]="picture-el";var Ie={isKnownType:function(e){return!!Ce[e]},name:"DynamicElement",props:["modelValue"],data:function(){return{model:this.modelValue}},computed:{elementComponent:function(){return Ce[this.model.type]}},components:{bullet:_,description:z,dndstats:Z,"picture-el":ae,property:de,"section-el":ge,subtitle:Se,"text-el":Le}};Ie.render=L;var Be=Ie,xe=Object(n["withScopeId"])("data-v-c5ddde4a");Object(n["pushScopeId"])("data-v-c5ddde4a");var De={class:"fs-4 title"};Object(n["popScopeId"])();var Pe=xe((function(e,t,r,o,a,c){return Object(n["openBlock"])(),Object(n["createBlock"])("div",De,[Object(n["createVNode"])("strong",null,Object(n["toDisplayString"])(r.modelValue),1)])})),Me={name:"Title",props:{modelValue:String}};r("7e16");Me.render=Pe,Me.__scopeId="data-v-c5ddde4a";var Ue=Me,Re=function e(t,r,n,o,a,c,l,i){if(Object(I["a"])(this,e),!t)throw new Error("Argumet 'title' should have value");this.title=t,this.elements=c||[],this.tags=l||[],this.count=i||1,this.icon=r,this.color=n,this.iconBack=o,this.backgroundImage=a},Ae=Re,_e={name:"Card",props:{modelValue:Ae},computed:{knownElements:function(){return this.modelValue.elements.filter((function(e){return Be.isKnownType(e.type)}))}},components:{"dynamic-element":Be,"title-el":Ue}};r("bac9");_e.render=E,_e.__scopeId="data-v-3148c86d";var He=_e;function Ye(e,t,r,o,a,c){var l=Object(n["resolveComponent"])("title-el");return Object(n["openBlock"])(),Object(n["createBlock"])("article",null,[Object(n["createVNode"])(l,{modelValue:r.modelValue.title},null,8,["modelValue"])])}var Fe={name:"CardSimplified",props:{modelValue:Ae},components:{"title-el":Ue}};Fe.render=Ye;var We=Fe,Je={class:"row g-2"},ze={class:"col-md-auto"},Xe={key:1,class:"col-md-auto"},Ge={class:"col-md-auto"},Ke={class:"row gx-2 align-items-center"},$e={class:"col-auto"},qe={class:"form-check"},Qe=Object(n["createVNode"])("label",{class:"form-check-label",for:"cb-sortDesc"}," Descending ",-1),Ze={class:"col-auto"};function et(e,t,r,o,a,c){return Object(n["openBlock"])(),Object(n["createBlock"])("section",Je,[Object(n["createVNode"])("div",ze,[Object(n["withDirectives"])(Object(n["createVNode"])("select",{class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.by=e}),onChange:t[2]||(t[2]=function(e){return r.byElement=a.cardElementSort.SUBTITLE})},[Object(n["createVNode"])("option",{value:a.cardSort.TITLE},"Title",8,["value"]),Object(n["createVNode"])("option",{value:a.cardSort.SPELLEVEL},"Spell level (experimental)",8,["value"]),Object(n["createVNode"])("option",{value:a.cardSort.ELEMENT},"Element",8,["value"]),Object(n["createVNode"])("option",{value:a.cardSort.FIRSTTAG},"First tag name",8,["value"])],544),[[n["vModelSelect"],r.by]])]),r.by===a.cardSort.ELEMENT?(Object(n["openBlock"])(),Object(n["createBlock"])("div",{key:0,class:"col-md-auto",onChange:t[4]||(t[4]=function(e){return r.propertyName=""})},[Object(n["withDirectives"])(Object(n["createVNode"])("select",{class:"form-control","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.byElement=e})},[Object(n["createVNode"])("option",{value:a.cardElementSort.SUBTITLE},"Subtitle",8,["value"]),Object(n["createVNode"])("option",{value:a.cardElementSort.PROPERTY}," First property with name ",8,["value"])],512),[[n["vModelSelect"],r.byElement]])],32)):Object(n["createCommentVNode"])("",!0),r.byElement===a.cardElementSort.PROPERTY?(Object(n["openBlock"])(),Object(n["createBlock"])("div",Xe,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{class:"form-control",type:"text","onUpdate:modelValue":t[5]||(t[5]=function(e){return r.propertyName=e}),placeholder:"Enter property name"},null,512),[[n["vModelText"],r.propertyName]])])):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])("div",Ge,[Object(n["createVNode"])("div",Ke,[Object(n["createVNode"])("div",$e,[Object(n["createVNode"])("div",qe,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"cb-sortDesc","onUpdate:modelValue":t[6]||(t[6]=function(e){return r.desc=e})},null,512),[[n["vModelCheckbox"],r.desc]]),Qe])]),Object(n["createVNode"])("div",Ze,[Object(n["createVNode"])("button",{class:"btn btn-primary",type:"button",onClick:t[7]||(t[7]=function(){return c.sort&&c.sort.apply(c,arguments)})}," Sort ")])])])])}r("c975");var tt={TITLE:"title",SPELLEVEL:"spelllLevel",ELEMENT:"element",FIRSTTAG:"firstTag"},rt={SUBTITLE:"subtitle",PROPERTY:"property"},nt={name:"CardSorter",emits:["sortChanged"],props:{by:{type:String,default:function(){return tt.TITLE}},byElement:{type:String,default:function(){return rt.SUBTITLE}},propertyName:String,desc:Boolean},data:function(){return{cardSort:tt,cardElementSort:rt}},methods:{sort:function(e){var t=this,r=null;this.by===tt.SPELLEVEL?r=function(e){return e.elements.filter((function(e){return e.type===D.SUBTITLE})).map((function(e){return!e.name||-1===e.name.indexOf("Cantrip")&&-1===e.name.indexOf("cantrip")?parseInt(e.name,10)||(t.desc?-1:999):0}))[0]}:this.by===tt.ELEMENT?r=this.byElement===rt.SUBTITLE?function(e){return e.elements.filter((function(e){return e.type===D.SUBTITLE})).map((function(e){return e.name}))[0]}:function(e){return e.elements.filter((function(e){return e.type===D.PROPERTY&&e.name===t.propertyName})).map((function(e){return e.name}))[0]}:"firstTag"===this.by&&(r=function(e){return e.tags[0]}),this.$emit("sortChanged",{elementSelector:r,desc:this.desc}),e.target.blur()}}};nt.render=et;var ot=nt,at={style:{display:"none"}};function ct(e,t,r,o,a,c){return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])("button",{class:"btn btn-primary",type:"button",onClick:t[1]||(t[1]=function(){return c.openDialog&&c.openDialog.apply(c,arguments)})}," Load from json files "),Object(n["createVNode"])("form",at,[Object(n["createVNode"])("input",{type:"file",id:"file-load",name:"files[]",multiple:"",accept:"application/JSON",onChange:t[2]||(t[2]=function(){return c.load&&c.load.apply(c,arguments)})},null,32)])])}r("99af");var lt=function e(t,r){Object(I["a"])(this,e),this.message=t,this.error=r},it=lt,ut={name:"RpgCardsLoader",emits:["loaded","onError"],methods:{openDialog:function(e){document.getElementById("file-load").click(),e.target.blur()},load:function(e){for(var t,r=this,n=e.target.files,o=n.length,a=function(){r.$emit("loaded",{rpgCards:c})},c=[],l=function(e,t){var n=new FileReader;n.onload=function(){try{var e=JSON.parse(n.result);c=c.concat(e)}catch(t){r.$emit("onError",{exception:new it("File is not in correct format.",t)})}--o||a()},n.readAsText(t)},i=0;t=n[i];i++)l(i,t);e.srcElement.form.reset()}}};ut.render=ct;var st=ut,dt=r("b76a"),pt=r.n(dt),bt=function(e){Object(B["a"])(r,e);var t=Object(x["a"])(r);function r(e,n){var o;return Object(I["a"])(this,r),o=t.call(this,D.UNKNOWN),o.name=e,o.params=n,o}return r}(M),mt=bt,ft="rpg-cards-v3";function ht(e){switch(e.type){case D.BULLET:return new R(e.name);case D.DESCRIPTION:return new W(e.name,e.value);case D.PICTURE:return new ne(e.url,e.height);case D.PROPERTY:return new ue(e.name,e.value);case D.SECTION:return new he(e.name,e.value);case D.SUBTITLE:return new Ve(e.name);case D.TEXT:return new ke(e.text);case D.DNDSTATS:return new q(e.str,e.dex,e.con,e.int,e.wis,e.cha);case D.UNKNOWN:return new mt(e.name,e.params);default:throw new Error("Unknown element from storage "+JSON.stringify(e))}}function Ot(e){if(!e)throw new Error("Argumet 'card' should have value");var t=e.elements.map((function(e){return ht(e)}));return new Ae(e.title,e.icon,e.color,e.iconBack,e.backgroundImage,t,e.tags,e.count)}function gt(){var e=localStorage.getItem(ft);if(e){var t=JSON.parse(e),r=t.map((function(e){return Ot(e)}));return r}}function jt(e){localStorage.setItem(ft,e?JSON.stringify(e):void 0)}function vt(){return localStorage.removeItem(ft)}var yt={get:gt,set:jt,clear:vt},Vt=(r("a15b"),r("a434"),r("ac1f"),r("1276"),r("498a"),r("4478")),Tt=r("2909"),St=(r("4d63"),r("25f0"),r("c0c4")),Nt=r.n(St);function wt(e){return Nt.a.sanitize(e,{ALLOWED_TAGS:["b"]})}function kt(e){var t=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!t.test(e)}function Et(e){return kt(e)?e:void 0}var Lt=" | ";function Ct(e,t){switch(e){case D.BULLET:return new R(wt(t[0]));case D.DESCRIPTION:return new W(wt(t[0]),wt(t[1]));case D.PICTURE:return new ne(Et(t[0]),parseInt(t[1],10));case D.PROPERTY:return new ue(wt(t[0]),wt(t[1]));case D.SECTION:return new he(wt(t[0]),wt(t[1]));case D.SUBTITLE:return new Ve(wt(t[0]));case D.TEXT:return new ke(wt(t[0]));case D.DNDSTATS:return Object(Vt["a"])(q,Object(Tt["a"])(t.map((function(e){return parseInt(e,10)}))));default:return new mt(e,t)}}function It(e){switch(e.type){case D.BULLET:return[e.type,e.name].join(Lt);case D.DESCRIPTION:return[e.type,e.name,e.value].join(Lt);case D.PICTURE:return[e.type,e.url,e.height].join(Lt);case D.PROPERTY:return[e.type,e.name,e.value].join(Lt);case D.SECTION:return[e.type,e.name,e.value].join(Lt);case D.SUBTITLE:return[e.type,e.name].join(Lt);case D.TEXT:return[e.type,e.name].join(Lt);case D.DNDSTATS:return[e.type,e.str,e.dex,e.con,e.int,e.wis,e.cha].join(Lt);default:return[e.name].concat(Object(Tt["a"])(e.params)).join(Lt)}}function Bt(e){if(!e)throw new Error("Argumet 'rpgCardJson' should have value");var t=(e.contents||[]).map((function(e){return e.split(Lt).map((function(e){return e.trim()}))})),r=t.map((function(e){return Ct(e[0],e.splice(1))})),n=(e.tags||[]).map((function(e){return e.trim().toLowerCase()}));return new Ae(e.title,e.icon,e.color,e.icon_back,e.background_image,r,n,e.count)}function xt(e){if(!e)throw new Error("Argumet 'card' should have value");var t=e.elements.map((function(e){return It(e)})).join("\r\n");return{title:e.title,count:e.count,icon:e.icon,color:e.color,icon_back:e.iconBack,background_image:e.backgroundImage,contents:t,tags:e.tags}}function Dt(e,t,r){return e.sort((function(e,n){if(t){var o=t(e),a=t(n);if(r){if(o>a)return-1;if(o<a)return 1}else{if(o<a)return-1;if(o>a)return 1}}if(r){if(e.title>n.title)return-1;if(e.title<n.title)return 1}else{if(e.title<n.title)return-1;if(e.title>n.title)return 1}return 0}))}var Pt,Mt=Dt,Ut=[{count:1,color:"maroon",title:"Burning Hands",icon:"white-book-1",icon_back:"robe",contents:["subtitle | 1st level evocation","rule","property | Casting time | 1 action","property | Range | Self (15ft cone)","property | Components | V,S","rule","fill | 2","text | Each creature in a 15-foot cone must make a Dexterity saving throw. A creature takes <b>3d6 fire damage</b> on a failed save, or half as much damage on a successful one.","text | The fire ignites any flammable objects in the area that aren't being worn or carried.","fill | 3","section | At higher levels","text | +1d6 damage for each slot above 1st"],tags:["spell","mage"]},{count:1,color:"indigo",title:"Cunning Action",icon:"white-book",icon_back:"cloak-dagger",contents:["subtitle | Rogue feature","rule","fill | 2","text | You can take a <b>bonus action on each of your turns</b> in combat. This action can be used only to take the <b>Dash, Disengage, or Hide</b> action.","fill | 2","section | Fast hands (Thief 3rd)","text | You can also use the bonus action to make a Dexterity (<b>Sleight of Hand</b>) check, use your thieves' tools to <b>disarm a trap</b> or <b>open a lock</b>, or take the <b>Use an Object</b> action."],tags:["feature","rogue"]},{count:1,color:"dimgray",title:"Full Plate",icon:"breastplate",contents:["subtitle | Heavy armor (1500gp)","rule","property | AC | 18","property | Strength required | 15","property | Stealth | Disadvantage","rule","fill | 2","description | Heavy | Unless you have the required strength, your speed is reduced by 10 feet.","description | Stealth | You have disadvantage on Dexterity (Stealth) checks.","fill | 3"],tags:["item","armor"]},{count:1,color:"dimgray",title:"Dagger",icon:"mixed-swords",contents:["subtitle | Simple melee weapon (2gp)","rule","property | Damage | 1d4 piercing","property | Modifier | Strength or Dexterity","property | Properties | Light, Finesse, Thrown (20/60)","rule","fill | 2","description | Finesse | Use your choice of Strength or Dexterity modifier for attack and damage.","description | Light | When you attack while dual wielding light weapons, you may use a bonus action to attack with your off hand.","description | Thrown | You can throw the weapon to make a ranged attack with the given range.","fill | 3"],tags:["item","weapon"]},{count:1,color:"dimgray",title:"Shortsword of Very Long Names",title_size:"10",icon:"crossed-swords",contents:["subtitle | Simple melee weapon (10gp)","rule","property | Damage | 1d6 piercing","property | Modifier | Strength or Dexterity","property | Properties | Light, Finesse","rule","fill | 2","description | Finesse | Use your choice of Strength or Dexterity modifier for attack and damage.","description | Light | When you attack while dual wielding light weapons, you may use a bonus action to attack with your off hand.","fill | 3"],tags:["item","weapon","magic"]},{count:1,color:"dimgray",title:"Wand of Magic Missiles",icon:"crystal-wand",contents:["subtitle | Wondrous item","rule","property | Maximum charges | 7","property | Recharge | 1d6+1 each day","property | Depletion | If you expend the last charge, roll a d20. On a 1, the item is destroyed.","rule","fill | 2","description | Spells | You can use your action to cast the following spells:","bullet | magic missile, 1st level (1 charge)","bullet | magic missile, 2nd level (2 charges)","bullet | magic missile, 3rd level (3 charges)","fill | 3","boxes | 7 | 2.5"],tags:["item","wondrous-item","magic"]},{count:2,color:"dimgray",title:"Potion of Healing",icon:"drink-me",contents:["subtitle | Potion (50gp)","rule","property | Use time | 1 action","property | Hit points restored | 2d4+2","rule","fill | 2","text | When you drink this potion, you regain 2d4+2 hitpoints.","text | Drinking or administering a potion takes 1 action.","fill | 3"],tags:["item","consumable"]},{count:1,color:"black",title:"Goblin",icon:"imp-laugh",contents:["subtitle | Small humanoid (goblinoid)","rule","property | Armor class | 15 (leather armor, shield)","property | Hit points | 7 (2d6)","rule","dndstats | 8 | 14 | 10 | 10 | 8 | 8","rule","property | Skills | Stealth +6","property | Challenge | 1/4 (50 XP)","rule","description | Nimble escape | Disengage or Hide as bonus action","fill | 2","section | Actions","description | Scimitar | Melee Weapon Attack: +4 to hit, reach 5 ft., one target. Hit: 5 (1d6 + 2) slashing damage","picture | https://upload.wikimedia.org/wikipedia/commons/9/9a/DnD_Goblin.png | 200"],tags:["creature","humanoid"]}],Rt=Object(o["b"])();function At(e){console.error(e.message,e),Rt.error(e.message+"\nSee console output for details.")}function _t(e){var t=e.map((function(e){try{var t=Bt(e);return t}catch(r){return void At(new it("Error during parsing example file.",r))}})).filter((function(e){return e}));return t}try{Pt=yt.get()}catch(Wt){At(new it("Error during loading cards from storage.",Wt))}var Ht={name:"App",data:function(){return{cards:Pt||[],useSimplifiedView:!1}},methods:{store:function(){yt.set(this.cards)},sort:function(e){this.cards=Mt(this.cards,e.elementSelector,e.desc),this.store()},loadExample:function(e){var t=_t(Ut);this.cards=t,this.store(),e.target.blur()},load:function(e){var t=_t(e.rpgCards);this.cards=t,this.store()},clear:function(e){yt.clear(),this.cards=[],e.target.blur()},print:function(e){window.print(),e.target.blur()},onError:function(e){At(e.exception)},download:function(e){var t=this.cards.map((function(e){return xt(e)})),r=JSON.stringify(t,null,4),n=document.createElement("a");n.setAttribute("href","data:application/JSON;charset=utf-8,"+encodeURIComponent(r)),n.setAttribute("download","rpg-cards.json"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),e.target.blur()}},components:{card:He,"card-simplified":We,draggable:pt.a,"card-sorter":ot,"rpg-cards-loader":st}};r("bc22"),r("895e");Ht.render=N,Ht.__scopeId="data-v-9c752e6c";var Yt=Ht,Ft=Object(n["createApp"])(Yt);Ft.use(o["a"],{position:"bottom-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!0,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),Ft.mount("#app")},"5aa0":function(e,t,r){"use strict";r("f87e")},"7e16":function(e,t,r){"use strict";r("bb7a")},"895e":function(e,t,r){"use strict";r("4947")},a811:function(e,t,r){"use strict";r("db32")},b021:function(e,t,r){},bac9:function(e,t,r){"use strict";r("b021")},bb7a:function(e,t,r){},bc22:function(e,t,r){"use strict";r("ce37")},ce37:function(e,t,r){},db32:function(e,t,r){},f87e:function(e,t,r){}});
//# sourceMappingURL=app.94d1053d.js.map